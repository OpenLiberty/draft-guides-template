// Copyright (c) 2018 IBM Corporation and others.
// Licensed under Creative Commons Attribution-NoDerivatives
// 4.0 International (CC BY-ND 4.0)
//   https://creativecommons.org/licenses/by-nd/4.0/
//
// Contributors:
//     IBM Corporation
//
:page-layout: guide-multipane
:projectid: template
:page-duration: 15 minutes
:page-releasedate: 2018-05-14
:page-description: Learn how to create a todo list API as a REST service using JAX-RS, and Open Liberty.
:page-tags: ['MicroProfile', 'Maven', 'Java EE', 'Gradle']
:page-related-guides: ['cdi-intro', 'rest-intro']
:page-guide-category: microprofile
:page-essential: false
:page-essential-order: 3
:page-permalink: /guides/{projectid}
:common-includes: https://raw.githubusercontent.com/OpenLiberty/guides-common/master
:page-seo-title: Creating a REST service
:page-seo-description: Find out how to create a REST service on Open Liberty
:guide-author: Open Liberty

= Title of guide, starting with a gerund (Creating, Administering, and so on)
// EXAMPLE: Creating a REST API for a todo list application

[.hidden]
NOTE: This repository contains the guide documentation source. To view the guide in published form, view it on the https://openliberty.io/guides/{projectid}.html[Open Liberty website].

// Start the introduction with "You'll explore how to..." or something similarly catchy.
// Write no more than two sentences, with meaningful information on what the user can accomplish
// with this guide.
// Do not start the introduction with "This guide...".
// EXAMPLE: Learn how to create a todo list API as a REST service using JAX-RS, CDI, and Open Liberty.




== What you'll learn

// Write about what the user will learn in a meaningful intro paragraph.
// Follow the intro paragraph with more details of what the user will learn, but still keep it brief.
// See the https://openliberty.io/guides/rest-intro.html[REST guide] at as an exemplar guide.
// ** Any links that you include in this section and in later parts of the guide should be hyperlinked:
// https://openliberty.io/guides/microprofile-config.html[Configuring microservices]






== Getting started

// Add this getting started section to your guide if it is applicable.
// Use the following include to pull in the git clone instructions from the guides-common repo.

[role="command"]
 include::{common-includes}/gitclone.adoc[]





=== Try what youâ€™ll build

// This is a subsection of the "Getting started" section above. It should briefly walk the user
// through how to setup everything in the "finish" directory and try out the finished version of
// what they will be building.

[role="command"]
 include::{common-includes}/trywhatyoubuild-intro.adoc[]

// Brief explanation on how to use the finished application.
// Describe what user expects to see after running the complete version of the application.

[role="command"]
 include::{common-includes}/trywhatyoubuild-end.adoc[]




== Section title for this section, starting with a gerund like Creating, Building, etc

// Add the various sections that are needed for a particular guide.

// Start each additional section title with a meaningful gerund such as Creating, Building, Testing.
// Follow the gerund with a meaningful noun phrase. For example: Creating a JAX-RS application
// Have as many sections and section titles as needed.
// EXAMPLE: * Learning to use JAX-RS and CDI
// EXAMPLE: * Learning how to build a REST service for a todo list application


// Write a sentence with the context like "Navigate to the `start` directory to begin." in the section
// where user starts working with the implementation.


// What to add for each section:
// Start each section with a meaningful description about what the user is doing in the section.
// Include code snippets.
// Avoid making all the documentation a series of steps and tasks, bullets, or numbered lists.
// Use tick marks around directories, files, values, class names, method names, and so on.
// Example: `this-is-a-file`, `this/is/a/path`, `thisIsAMethod`.





// EXAMPLE: The following block demostrates how different sections look like for a todo application.
======================================================================================================
== Building the model

* Navigate to the `start` directory
* Represent an entry in a todo list

[role="code_command", subs="quotes"]
----
#Create the `TodoModel` class.#
`src/main/java/io/openliberty/guides/todolistSample/models/TodoModel.java`
----

TodoModel.java
[source, Java, linenums, role='code_column']
----
link:finish/src/main/java/io/openliberty/guides/todolistSample/models/TodoModel.java[]
----


* Getters, setters, and default constructor such that the model can be serialized/deserialized easily

== Creating the Manager

* Create a manager that is injected into the JAX-RS resource


[role="code_command", subs="quotes"]
----
#Create the `TodoManager` class.#
`src/main/java/io/openliberty/guides/todolistSample/managers/TodoManager.java`
----

TodoManager.java
[source, Java, linenums, role='code_column']
----
link:finish/src/main/java/io/openliberty/guides/todolistSample/managers/TodoManagers.java[]
----

[role="code_command", subs="quotes"]
----
#Create the `SampleTodoManager` class.#
`src/main/java/io/openliberty/guides/todolistSample/managers/samples/SampleTodoManager.java`
----

SampleTodoManager.java
[source, Java, linenums, role='code_column']
----
link:finish/src/main/java/io/openliberty/guides/todolistSample/managers/samples/SampleTodoManager.java[]
----

* Implemented basic CRUD (Create, Read, Update, and Delete) operations.
* Manager is ApplicationScoped, which essentially means that it is a singleton.

== Creating the JAX-RS resource

* Description of the technology, possibly with a link to learn more.
* Use CDI to inject the todo manager into the resource

[role="code_command", subs="quotes"]
----
#Create the `TodoResource` class.#
`src/main/java/io/openliberty/guides/todolistSample/resources/TodoResource.java`
----

TodoResource.java
[source, Java, linenums, role='code_column']
----
link:finish/src/main/java/io/openliberty/guides/todolistSample/resources/TodoResource.java[]
----

* The resource methods are accessible via HTTP
* Use GET, POST, PUT, and DELETE verbs to handle reading, creating, updating, and deleting resources
* Validate data models and send appropriate response accordingly
======================================================================================================



== Building and running the application

// Use the following include to pull in the Maven build instructions from the guides-common repo.
 include::{common-includes}/mvnbuild.adoc[]

// In between here, you should state where you application can be found now that its running. ie. urls
// Sample usage of the application
// Suggestions for what changes the reader can make to explore the code

// Use the following include to pull in the Maven rebuild instructions from the
// guides-common repo.
 include::{common-includes}/mvncompile.adoc[]



== Testing the application

// Show how to test your application.


// EXAMPLE:
======================================================================================================
[role="code_command", subs="quotes"]
----
#Create the `TodoTest` class.#
`finish/src/test/java/it/io/openliberty/guides/todo/TodoTest.java`
----

TodoTest.java
[source, Java, linenums, role='code_column']
----
link:finish/src/test/java/it/io/openliberty/guides/todolistSample/TodoTest.java[]
----

* Explain what each test case is testing
* Explain key methods
======================================================================================================

// Include this for info on how to run the tests
[role="command"]
 include::{common-includes}/mvnverify.adoc[]

// Including a listing block with test results here
// Show console output of the test results

// OPTIONAL: after listing the test results, mention a simple change a user can make/introduce that
// will cause the tests to fail. Be brief and don't give the users all of the instructions.
// At this point, they should be comfortable enough to figure it out on their own.



== Great work! You're done!

// Briefly summarize what the user achieved in this guide (1-2 sentences).

// OPTIONAL: briefly state what the user could do next now that they've learned the
// technologies in this guide.

// Include the following from the guides-common repo to tell users how they can contribute to the guide:
 include::{common-includes}/finish.adoc[]

 //Include the following guides-attribution from the guides-common repo:
link:https://raw.githubusercontent.com/OpenLiberty/guides-common/multipane/attribution.adoc[]

// DO NO CREATE ANYMORE SECTIONS AT THIS POINT
// Related guides will be added in automatically here if you included them in ":page-related-guides"